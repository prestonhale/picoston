pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
#include tyler.p8
#include michael.p8
#include preston.p8

objects = {}

speed = 1


SPAWN_FUNCTIONS = {
    add_ostrich_in_lane,
    add_bee_giant_in_lane,
    add_bee_giant_in_lane,
    add_bee_giant_in_lane,
    add_bee_giant_in_lane
}

function _init()
	init_preston(objects)
	init_tyler(objects)
    init_michael(objects)
end

function _update()
	
    for obj in all(objects) do
        obj.type.update(obj)
    end
end

function _draw()
    cls()
    draw_background2()
    for obj in all(objects) do
        obj.type.draw(obj)
    end
end

-- helper functions
function get_lane_y(lane_index)
    return (lane_index-1)*lane_length
end

lane_spacing=21
line_spacing=2
line_length=6
function draw_background()
	cls(3)
    map()
    for i=0,4 do
        curr_lane_x=0
        while (curr_lane_x < 130) do
            rect(curr_lane_x,i*lane_spacing+lane_spacing,curr_lane_x+line_spacing,i*lane_spacing+lane_spacing,7)
            curr_lane_x+=line_length
        end
    end
end

function draw_background2()

    cls(0)

    swap=-1
    y_offset=0
    bg_sq_val=23
    x_offset=23

    for i=0,4 do
        for j=0,6 do
            if swap==-1 then
                for k=0,4 do
                    rectfill(j*bg_sq_val+k+y_offset-x_offset,i*21,j*bg_sq_val+bg_sq_val+k+y_offset-x_offset,i*21+(k*5),11)
                end
            else
                for k=0,4 do
                    rectfill(j*bg_sq_val+k+y_offset-x_offset,i*21,j*bg_sq_val+bg_sq_val+k+y_offset-x_offset,i*21+(k*5),14)
                end
            end
            swap*=-1
        end
        y_offset+=4
    end
end
__gfx__
00000000555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044444444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044444444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666660000000000005550000000000000555000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999960066660000666650000000000555005000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999960677776006777760000000000005005000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999966777777667777776006666000066665000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999966777777667777776067777600677776000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999966777777667777776677777766777777600000000000000000000000000000000000000000000000000000000000000000000000000000000
6999999999999996a6777765a677776a677777766777777600000000000000000000000000000000000000000000000000000000000000000000000000000000
6999999999999996a56666a5aa666655677777766777777600000000000000000000000000000000000000000000000000000000000000000000000000000000
6999999999999996a5aa5aa5aaa5aa55a6777765a677776500000000000000000000000000000000000000000000000000000000000000000000000000000000
6999999999999996a5aa5aa5aaa5aaaaa56666a5aa6666aa00000000000000000000000000000000000000000000000000000000000000000000000000000000
6999999999999996a5aa5aa5aaa5aaaaa5aa5aa5aaa5aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000
699999999999999605aa5aa5aaa5aaa005aa5aa5aaa5aaa000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999960050500000505000005050000050500000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999960555500005555000055550000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000
69999999999999960050000000500000005000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666665550000555500000555000055550000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333b33000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
333b3333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
333333b3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b33b333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
