pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
#include tyler.p8
#include michael.p8
#include preston.p8

objects = {}

speed = 1

animal = {
    x = 0,
    y = 0,
    lane_x = 0,
    lane_y = 0,
    draw = function()
    end,
    update = function()
    end
}

function _init()
		init_preston(objects)
		init_tyler(objects)
		init_michael(objects)
end

function _update()
    for obj in all(objects) do
        obj.type.update(obj)
    end
	if btnp(5) then 
		print("true")
		add_ostrich_at(0,56) 
		
		end
end

function _draw()
    cls()
    draw_background()
    for obj in all(objects) do
        obj.type.draw(obj)
    end
end

-- helper functions

lane_spacing=21
line_spacing=2
line_length=6
function draw_background()
	cls(3)
    map()
    for i=0,4 do
        curr_lane_x=0
        while (curr_lane_x < 130) do
            rect(curr_lane_x,i*lane_spacing+lane_spacing,curr_lane_x+line_spacing,i*lane_spacing+lane_spacing,7)
            curr_lane_x+=line_length
        end
    end
end
__gfx__
00000000555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044400000
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044400
00700700533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004454
00077000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004454
00077000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004554
00700700533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004544
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
00000000533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004445
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004544
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004554
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004445
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004455
33333333533333333333333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004455
33333333555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044405444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044
__map__
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
